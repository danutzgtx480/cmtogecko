--- librecovery.c	2014-04-18 21:29:59.489538700 +0200
+++ librecoveryE.c	2014-04-19 08:22:23.780630400 +0200
@@ -91,6 +91,13 @@
   return read;
 }
 
+// Reboot device into recovery mode
+int
+bootToRecovery()
+{
+  return android_reboot(ANDROID_RB_RESTART2, 0, (char *) kRebootRecovery);
+}
+
 // Write a command to the recovery command file in /cache/recovery/command,
 // and reboots to the recovery partition.
 static int
@@ -136,7 +143,7 @@
   // Reboot into the recovery partition
   ALOGD("Rebooting into recovery: %s", command);
 
-  return android_reboot(ANDROID_RB_RESTART2, 0, (char *) kRebootRecovery);
+  return bootToRecovery();
 }
 
 int
